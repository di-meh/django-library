<html>
  <head>
    <title>Livre détaillé</title>
 
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
  </head>
  <body>
    {% include 'navbar/navbar.html' %}
    {% if messages %}
      {% for message in messages %}
        <div class="alert alert-success alert-dismissible fade show" role="alert">
          {{ message }}
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
      {% endfor %}
    {% endif %}

    {% block content %} 
      <div class="container mt-3">
        <a class="btn btn-secondary mb-5" href="{% url 'library_index' %}">Retour</a>
        <div class="row">
          <div class="col">
            {% if book %}
              <div class="card w-100">
                {% if book.cover %}
                <img src="{{book.cover}}" class="card-img-top" height="400px" alt="Image de couverture">
                {% else %}
                <img src="https://via.placeholder.com/700x200" height="400px" class="card-img-top" alt="Image de couverture">
                {% endif %}
                <div class="card-body">
                <h1 class="mt-2 mb-5">{{book.title}}</h1>
                  <p class="card-text">Résumer : {{book.description}}</p>
                  <p>Auteur : {{book.author}}</p>
                  <p>Isbn : {{ book.isbn }}</p>
                    <p class="mb-1">Tags :</p>
                    {% for tag in book.tags %}
                      <span class="badge rounded-pill text-bg-dark">{{ tag }}</span>
                    {% endfor %}
                    <p class="mt-2 mb-1">Genre :</p> 
                    {% for genre in book.genre.all %}
                      <span class="badge rounded-pill text-bg-dark">{{ genre }}</span>
                    {% endfor %}   
                    <p class="mt-2 mb-1">Bibliothèque :</p> 
                    {% for bookstore in bookstores %}
                      <ul>
                        <li>{{ bookstore.name.capitalize }} - {{bookstore.address}}</li>
                      </ul>
                    {% endfor %}
                </div>
                {% comment %}
                <div class="card-footer">
                  <a href="{{ url_for('update_book', book_id=book.id) }}" class="btn btn-primary">Modifier</a>
                  <a href="{{ url_for('delete_book', book_id=book.id) }}" class="btn btn-danger">Supprimer</a>
                </div>
                {% endcomment %}
              </div>
            {% else %}
              <h1 class="mt-2 mb-5">Livre non trouvé</h1>
            {% endif %}
          </div>
        </div>
      </div>
    {% endblock %}

    <div class="container">
      <div class="row">
    
      </div>
    </div>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>

  </body>
</html>